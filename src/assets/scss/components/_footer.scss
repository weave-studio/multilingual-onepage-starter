// ==========================================================================
// FOOTER COMPONENT
// Site footer with navigation, contact info, and social links
// ==========================================================================

@use '../variables' as *;
@use '../mixins' as *;

.footer {
  background: linear-gradient(
    to bottom right,
    var(--theme-bg-contact),
    var(--theme-hero-gradient-end)
  );
  color: var(--theme-text-primary);
  border-top: 1px solid var(--theme-border);
  padding: $space-12 0 $space-6 0;
}

.footer__container {
  max-width: $container-7xl;
  margin: 0 auto;
  padding: 0 $space-4;
}

.footer__content {
  display: grid;
  justify-items: center;
  grid-template-columns: 1fr;
  gap: $space-8;
  margin-bottom: $space-10;

  @include md {
    grid-template-columns: 1fr 1fr;
    gap: $space-12;
  }
}

// === BRAND SECTION ===
.footer__brand {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.footer__nav-logo {
  display: flex;
  align-items: center;
  text-decoration: none;
  padding-top: $space-6;

  // Reverse direction in RTL so "Weave Studio" displays correctly
  [dir="rtl"] & {
    flex-direction: row-reverse;
  }

  &:hover,
  &:focus {
    .footer__nav-logo-image {
      opacity: 0.8;
    }

    .footer__nav-logo-text-primary {
      color: $color-primary-600 !important;
      text-decoration: none !important;
    }

    .footer__nav-logo-text-accent {
      color: $color-primary-500 !important;
      text-decoration: none !important;
    }
  }
}

.footer__nav-logo-image {
  height: 50px;
  width: auto;
  transition: opacity $transition-fast;
  filter: brightness(0) saturate(100%) invert(34%) sepia(100%) saturate(291%) hue-rotate(166deg) brightness(96%) contrast(94%);
}

// === LOGO TEXT STYLING ===
.footer__nav-logo-text {
  display: inline-flex;
  align-items: baseline;
  line-height: 1;
  white-space: nowrap;
  letter-spacing: -0.02em;
  text-decoration: none !important;
  flex-direction: row;
  font-size: $font-size-3xl;

  [dir="rtl"] & {
    flex-direction: row-reverse;
  }
}

.footer__nav-logo-text-primary {
  font-family: serif;
  font-weight: 500;
  color: var(--color-neutral-800) !important;
  transition: color $transition-fast;
  text-decoration: none !important;
}

.footer__nav-logo-text-accent {
  margin-left: 1px;
  font-family: serif;
  font-weight: 300;
  font-style: italic;
  color: var(--theme-accent-terracotta) !important;
  transition: color $transition-fast;
  text-decoration: none !important;

  // RTL spacing adjustment
  [dir="rtl"] & {
    margin-left: 0;
    margin-right: 1px;
  }
}

.footer__tagline {
  font-family: $font-family-heading;
  min-width: 250px;
  color: var(--color-neutral-700);
  text-align: center;
}

.footer__description {
  font-size: $font-size-base;
  color: var(--color-neutral-600);
  text-align: center;
  max-width: 360px;
}

// === NAVIGATION ===
.footer__nav-title {
  font-weight: $font-weight-semibold;
  margin-bottom: $space-4;
  color: var(--color-neutral-600);
}

.footer__nav-list {
  list-style: none;
  margin: 0;
  padding: 0;
  text-align: center;

  li {
    margin-bottom: $space-2;
  }

  a {
    color: var(--color-neutral-500);
    position: relative;
    text-decoration: none;
    display: inline-block;
    transition: color $transition-fast;

    // Underline slide animation
    &::after {
      content: '';
      position: absolute;
      bottom: -2px;
      left: 0;
      width: 100%;
      height: 1px;
      background: var(--theme-accent-terracotta);
      transform: scaleX(0);
      transform-origin: right;
      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);

      // RTL transform origin
      [dir="rtl"] & {
        transform-origin: left;
      }
    }

    &:hover,
    &:focus {
      color: var(--color-neutral-700);

      // Hover state - slide in from opposite direction
      &::after {
        transform: scaleX(1);
        transform-origin: left;

        // RTL hover state
        [dir="rtl"] & {
          transform-origin: right;
        }
      }
    }
  }
}

// === CONTACT SECTION ===
.footer__contact {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.footer__contact-title {
  font-weight: $font-weight-semibold;
  margin: $space-8 0 $space-4;
  color: var(--color-neutral-600);
}

.footer__email {
  margin-bottom: $space-2;
  font-size: $font-size-lg;

  a {
    color: var(--color-neutral-500);
    font-weight: $font-weight-medium;
    text-decoration: none;
    position: relative;
    display: inline-block;
    transition: color $transition-fast;

    // Underline slide animation
    &::after {
      content: '';
      position: absolute;
      bottom: -2px;
      left: 0;
      width: 100%;
      height: 1px;
      background: var(--theme-accent-terracotta);
      transform: scaleX(0);
      transform-origin: right;
      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);

      // RTL transform origin
      [dir="rtl"] & {
        transform-origin: left;
      }
    }

    &:hover,
    &:focus {
      color: var(--color-neutral-700);

      // Hover state - slide in from opposite direction
      &::after {
        transform: scaleX(1);
        transform-origin: left;

        // RTL hover state
        [dir="rtl"] & {
          transform-origin: right;
        }
      }
    }
  }
}

// === SOCIAL ICONS ===
.footer__social {
  margin-top: $space-2;
  text-align: center;
}

.footer__social-title {
  font-weight: $font-weight-semibold;
  margin-bottom: $space-4;
  color: var(--color-neutral-600);
  font-size: $font-size-base;
}

.footer__social-icons {
  display: flex;
  gap: $space-4;
  justify-content: center;

  a {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    border-radius: $border-radius-full;
    background: var(--color-neutral-100);
    color: var(--color-neutral-700);
    transition: all $transition-fast;
    border: 1px solid $color-neutral-200;

    &:hover {
      background: var(--theme-accent-terracotta);
      color: var(--color-neutral-50);
      border-color: var(--theme-accent-terracotta);
      transform: translateY(-2px);
    }
  }

  svg,
  i {
    width: 20px;
    height: 20px;
  }
}

// === FOOTER BOTTOM ===
.footer__bottom {
  border-top: 1px solid $color-neutral-800;
  padding-top: $space-6;
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  align-items: center;
  gap: $space-4;

  // Tablet and Laptop displays - prevent Legal Notice overlap with back-to-top
  @media (min-width: 481px) and (max-width: 1439px) {
    max-width: calc(100% - 120px); // Leave space for back-to-top button
    margin: 0 auto;
  }

  @media (max-width: 480px) {
    flex-direction: column;
    text-align: center;
  }
}

.footer__copyright {
  color: var(--color-neutral-800);
  text-align: center;
  margin: 0;

  @media (max-width: 480px) {
    max-width: 260px;
  }
}

.footer__legal {
  a {
    color: var(--color-neutral-500);
    margin-left: $space-6;
    position: relative;
    text-decoration: none;
    display: inline-block;
    transition: color $transition-fast;

    // Underline slide animation for legal links
    &::after {
      content: '';
      position: absolute;
      bottom: -2px;
      left: 0;
      width: 100%;
      height: 1px;
      background: var(--theme-accent-terracotta);
      transform: scaleX(0);
      transform-origin: right;
      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);

      // RTL transform origin
      [dir="rtl"] & {
        transform-origin: left;
      }
    }

    &:hover,
    &:focus {
      color: var(--color-neutral-700);

      // Hover state - slide in from opposite direction
      &::after {
        transform: scaleX(1);
        transform-origin: left;

        // RTL hover state
        [dir="rtl"] & {
          transform-origin: right;
        }
      }
    }
  }
}
